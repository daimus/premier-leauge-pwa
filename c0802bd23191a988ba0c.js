(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{21:function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return l})),n.d(t,"close",(function(){return d}));n(29),n(36);var r=n(28),o=n(0);class a extends HTMLElement{constructor(){super()}connectedCallback(){Object(r.d)().then(e=>{this._items=e,this.render()})}disconnectedCallback(){}attributeChangedCallback(){}adoptedCallback(){}set items(e){this._items=e,this.render()}set searchQuery(e){Object(r.d)().then(t=>{this._items=[],t.forEach(t=>{-1!==t.name.toLowerCase().indexOf(e.toLowerCase())&&this._items.push(t)}),this.render()})}render(){let e=this,t="";this._items.length>0?this._items.forEach(e=>{t+=`<ul class="collection team-collection">\n                <li class="collection-item avatar">\n                    <div class="team-content" data-teamid="${e.id}">\n                        <img src="${e.crestUrl}" alt="${e.name}" class="circle">\n                        <span class="title">${e.name} - ${e.tla}</span>\n                        <p>${e.activeCompetitions.length} Active Competition</p>\n                    </div>\n                    <button type="button" class="btn-flat secondary-content destroy color-danger" data-teamid="${e.id}" data-position="bottom" data-tooltip="Unfollow ${e.name}"><i class="material-icons">delete_forever</i></button>\n                </li>\n                </ul>`}):t='<div class="col s12 m12 l12 xl12">\n            <div class="card">\n              <div class="card-content">\n                <span class="card-title">Oops!</span>\n                <p>Followed team not found ðŸ˜¥</p>\n              </div>\n              <div class="card-action">\n                <a href="./#/standings">Go to Standings Page</a>\n              </div>\n            </div>\n          </div>',this.innerHTML=t;const n=document.querySelectorAll(".destroy");M.Tooltip.init(n);for(let t=0;t<n.length;t++)n[t].addEventListener("click",o=>{o.preventDefault(),console.log("clicked");const a=parseInt(n[t].getAttribute("data-teamid"));Object(r.b)(a).then(t=>{Object(r.d)().then(t=>{e._items=t,e.render()})}).catch(e=>{M.toast({html:"Error happen when unfollow team ðŸ˜¢"})})});const a=document.querySelectorAll(".team-content");for(let e=0;e<a.length;e++)a[e].addEventListener("click",t=>{t.preventDefault();const n=parseInt(a[e].getAttribute("data-teamid"));Object(o.c)("team/"+n)})}}customElements.define("team-collection",a);n(38);class s extends HTMLElement{constructor(){super()}connectedCallback(){this.render()}disconnectedCallback(){}attributeChangedCallback(){}adoptedCallback(){}set searchEvent(e){document.querySelector("#searchButton").addEventListener("click",e)}get searchQuery(){return document.querySelector("#searchInput").value}render(){this.innerHTML='<form action="" class="search-form">\n        <div class="col s8 m4">\n            <input placeholder="Search clubs..." type="text" class="validate" id="searchInput">\n        </div>\n        <div class="col s4 m2">\n            <button type="button" class="btn-flat" id="searchButton"><i class="material-icons">search</i></button>\n        </div>\n        </form>'}}customElements.define("search-bar",s);var c=n(40),i=n.n(c);const l=()=>{document.querySelector("main").innerHTML=i.a;const e=document.querySelector("header-bar"),t=document.querySelector("team-collection"),n=document.createElement("search-bar");e.widget=n.outerHTML;return n.searchEvent=()=>{t.searchQuery=n.searchQuery},Promise.resolve()},d=()=>Promise.resolve()},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return I}));let r,o;const a=new WeakMap,s=new WeakMap,c=new WeakMap,i=new WeakMap,l=new WeakMap;let d={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function u(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),p(a.get(this))}:function(...t){return p(e.apply(f(this),t))}:function(t,...n){const r=e.call(f(this),t,...n);return c.set(r,t.sort?t.sort():[t]),p(r)}}function m(e){return"function"==typeof e?u(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});s.set(e,t)}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,d):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(p(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),l.set(t,e),t}(e);if(i.has(e))return i.get(e);const t=m(e);return t!==e&&(i.set(e,t),l.set(t,e)),t}const f=e=>l.get(e);const h=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function g(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!h.includes(n))return;const a=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let s=a.store;r&&(s=s.index(t.shift()));const c=await s[n](...t);return o&&await a.done,c};return b.set(t,a),a}d=(e=>({...e,get:(t,n,r)=>g(t,n)||e.get(t,n,r),has:(t,n)=>!!g(t,n)||e.has(t,n)}))(d);const y=function(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const s=indexedDB.open(e,t),c=p(s);return r&&s.addEventListener("upgradeneeded",e=>{r(p(s.result),e.oldVersion,e.newVersion,p(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),c.then(e=>{a&&e.addEventListener("close",()=>a()),o&&e.addEventListener("versionchange",()=>o())}).catch(()=>{}),c}("Premier Leauge",1,{upgrade(e){e.createObjectStore("teams",{keyPath:"id",autoIncrement:!0}).createIndex("name","name")}}),w=async e=>(await y).add("teams",e),E=async()=>(await y).getAll("teams"),k=async e=>(await y).get("teams",e),I=async e=>(await y).delete("teams",e)},36:function(e,t,n){var r=n(1),o=n(37);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},37:function(e,t,n){(t=n(2)(!1)).push([e.i,".team-collection .title {\r\n    font-weight: 600;\r\n}\r\n\r\n.team-collection {\r\n    cursor: pointer;\r\n}",""]),e.exports=t},38:function(e,t,n){var r=n(1),o=n(39);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},39:function(e,t,n){var r=n(2),o=n(3),a=n(30);t=r(!1);var s=o(a);t.push([e.i,".search-bar {\r\n    background-color: #2c002f;\r\n    \r\n}\r\n\r\n.pl-background {\r\n    background-image: url("+s+");\r\n    background-repeat: no-repeat;\r\n    background-position: right;\r\n    background-size: contain;\r\n}\r\n\r\n.search-form {\r\n    padding: 50px 0px 140px 0px;\r\n}\r\n\r\n.search-form input {\r\n    color: #ffffff;\r\n}\r\n\r\n.search-form button {\r\n    color: #ffffff;\r\n}",""]),e.exports=t},40:function(e,t){e.exports='<section id=match-list> <header-bar></header-bar> <div class=container> <div id=row> <div class="col s12 m12"> <team-collection></team-collection> </div> </div> </div> </section>'}}]);